'use strict';function cov_1ozapnrtfm(){var path="/home/jdufitum/nodebb-f24-pentagon/src/controllers/accounts/consent.js";var hash="58012aecb3bf01dc22f544ed997ad6f13f3f0652";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/jdufitum/nodebb-f24-pentagon/src/controllers/accounts/consent.js",statementMap:{"0":{start:{line:3,column:11},end:{line:3,column:36}},"1":{start:{line:4,column:13},end:{line:4,column:34}},"2":{start:{line:5,column:16},end:{line:5,column:37}},"3":{start:{line:7,column:26},end:{line:7,column:40}},"4":{start:{line:9,column:0},end:{line:27,column:2}},"5":{start:{line:10,column:1},end:{line:12,column:2}},"6":{start:{line:11,column:2},end:{line:11,column:16}},"7":{start:{line:13,column:17},end:{line:13,column:36}},"8":{start:{line:14,column:32},end:{line:14,column:39}},"9":{start:{line:15,column:19},end:{line:15,column:84}},"10":{start:{line:17,column:1},end:{line:17,column:54}},"11":{start:{line:18,column:1},end:{line:21,column:3}},"12":{start:{line:23,column:1},end:{line:23,column:42}},"13":{start:{line:24,column:1},end:{line:24,column:132}},"14":{start:{line:26,column:1},end:{line:26,column:40}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:24},end:{line:9,column:25}},loc:{start:{line:9,column:56},end:{line:27,column:1}},line:9}},branchMap:{"0":{loc:{start:{line:10,column:1},end:{line:12,column:2}},type:"if",locations:[{start:{line:10,column:1},end:{line:12,column:2}},{start:{line:10,column:1},end:{line:12,column:2}}],line:10},"1":{loc:{start:{line:19,column:13},end:{line:19,column:49}},type:"binary-expr",locations:[{start:{line:19,column:13},end:{line:19,column:40}},{start:{line:19,column:44},end:{line:19,column:49}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"58012aecb3bf01dc22f544ed997ad6f13f3f0652"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1ozapnrtfm=function(){return actualCoverage;};}return actualCoverage;}cov_1ozapnrtfm();const db=(cov_1ozapnrtfm().s[0]++,require('../../database'));const meta=(cov_1ozapnrtfm().s[1]++,require('../../meta'));const helpers=(cov_1ozapnrtfm().s[2]++,require('../helpers'));const consentController=(cov_1ozapnrtfm().s[3]++,module.exports);cov_1ozapnrtfm().s[4]++;consentController.get=async function(req,res,next){cov_1ozapnrtfm().f[0]++;cov_1ozapnrtfm().s[5]++;if(!meta.config.gdpr_enabled){cov_1ozapnrtfm().b[0][0]++;cov_1ozapnrtfm().s[6]++;return next();}else{cov_1ozapnrtfm().b[0][1]++;}const payload=(cov_1ozapnrtfm().s[7]++,res.locals.userData);const{username,userslug}=(cov_1ozapnrtfm().s[8]++,payload);const consented=(cov_1ozapnrtfm().s[9]++,await db.getObjectField(`user:${res.locals.uid}`,'gdpr_consent'));cov_1ozapnrtfm().s[10]++;payload.gdpr_consent=parseInt(consented,10)===1;cov_1ozapnrtfm().s[11]++;payload.digest={frequency:(cov_1ozapnrtfm().b[1][0]++,meta.config.dailyDigestFreq)||(cov_1ozapnrtfm().b[1][1]++,'off'),enabled:meta.config.dailyDigestFreq!=='off'};cov_1ozapnrtfm().s[12]++;payload.title='[[user:consent.title]]';cov_1ozapnrtfm().s[13]++;payload.breadcrumbs=helpers.buildBreadcrumbs([{text:username,url:`/user/${userslug}`},{text:'[[user:consent.title]]'}]);cov_1ozapnrtfm().s[14]++;res.render('account/consent',payload);};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW96YXBucnRmbSIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwidHlwZSIsImxvY2F0aW9ucyIsInMiLCJmIiwiYiIsIl9jb3ZlcmFnZVNjaGVtYSIsImNvdmVyYWdlIiwiYWN0dWFsQ292ZXJhZ2UiLCJkYiIsInJlcXVpcmUiLCJtZXRhIiwiaGVscGVycyIsImNvbnNlbnRDb250cm9sbGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldCIsInJlcSIsInJlcyIsIm5leHQiLCJjb25maWciLCJnZHByX2VuYWJsZWQiLCJwYXlsb2FkIiwibG9jYWxzIiwidXNlckRhdGEiLCJ1c2VybmFtZSIsInVzZXJzbHVnIiwiY29uc2VudGVkIiwiZ2V0T2JqZWN0RmllbGQiLCJ1aWQiLCJnZHByX2NvbnNlbnQiLCJwYXJzZUludCIsImRpZ2VzdCIsImZyZXF1ZW5jeSIsImRhaWx5RGlnZXN0RnJlcSIsImVuYWJsZWQiLCJ0aXRsZSIsImJyZWFkY3J1bWJzIiwiYnVpbGRCcmVhZGNydW1icyIsInRleHQiLCJ1cmwiLCJyZW5kZXIiXSwic291cmNlcyI6WyJjb25zZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZGIgPSByZXF1aXJlKCcuLi8uLi9kYXRhYmFzZScpO1xuY29uc3QgbWV0YSA9IHJlcXVpcmUoJy4uLy4uL21ldGEnKTtcbmNvbnN0IGhlbHBlcnMgPSByZXF1aXJlKCcuLi9oZWxwZXJzJyk7XG5cbmNvbnN0IGNvbnNlbnRDb250cm9sbGVyID0gbW9kdWxlLmV4cG9ydHM7XG5cbmNvbnNlbnRDb250cm9sbGVyLmdldCA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuXHRpZiAoIW1ldGEuY29uZmlnLmdkcHJfZW5hYmxlZCkge1xuXHRcdHJldHVybiBuZXh0KCk7XG5cdH1cblx0Y29uc3QgcGF5bG9hZCA9IHJlcy5sb2NhbHMudXNlckRhdGE7XG5cdGNvbnN0IHsgdXNlcm5hbWUsIHVzZXJzbHVnIH0gPSBwYXlsb2FkO1xuXHRjb25zdCBjb25zZW50ZWQgPSBhd2FpdCBkYi5nZXRPYmplY3RGaWVsZChgdXNlcjoke3Jlcy5sb2NhbHMudWlkfWAsICdnZHByX2NvbnNlbnQnKTtcblxuXHRwYXlsb2FkLmdkcHJfY29uc2VudCA9IHBhcnNlSW50KGNvbnNlbnRlZCwgMTApID09PSAxO1xuXHRwYXlsb2FkLmRpZ2VzdCA9IHtcblx0XHRmcmVxdWVuY3k6IG1ldGEuY29uZmlnLmRhaWx5RGlnZXN0RnJlcSB8fCAnb2ZmJyxcblx0XHRlbmFibGVkOiBtZXRhLmNvbmZpZy5kYWlseURpZ2VzdEZyZXEgIT09ICdvZmYnLFxuXHR9O1xuXG5cdHBheWxvYWQudGl0bGUgPSAnW1t1c2VyOmNvbnNlbnQudGl0bGVdXSc7XG5cdHBheWxvYWQuYnJlYWRjcnVtYnMgPSBoZWxwZXJzLmJ1aWxkQnJlYWRjcnVtYnMoW3sgdGV4dDogdXNlcm5hbWUsIHVybDogYC91c2VyLyR7dXNlcnNsdWd9YCB9LCB7IHRleHQ6ICdbW3VzZXI6Y29uc2VudC50aXRsZV1dJyB9XSk7XG5cblx0cmVzLnJlbmRlcignYWNjb3VudC9jb25zZW50JywgcGF5bG9hZCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUMsU0FBQUEsZUFBQSxNQUFBQyxJQUFBLDhFQUFBQyxJQUFBLGdEQUFBQyxNQUFBLEtBQUFDLFFBQUEsc0JBQUFDLEdBQUEsb0JBQUFDLFlBQUEsRUFBQUwsSUFBQSwwRUFBQU0sWUFBQSxPQUFBQyxLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxVQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxVQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxZQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxZQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxXQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxZQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxhQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxPQUFBRSxLQUFBLE9BQUFDLElBQUEsaUJBQUFDLElBQUEsRUFBQU4sS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsTUFBQUssR0FBQSxFQUFBUCxLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxLQUFBRCxJQUFBLEtBQUFPLFNBQUEsT0FBQUQsR0FBQSxFQUFBUCxLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxLQUFBTyxJQUFBLE1BQUFDLFNBQUEsR0FBQVYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsTUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsTUFBQUQsSUFBQSxVQUFBTSxHQUFBLEVBQUFQLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFPLElBQUEsZUFBQUMsU0FBQSxHQUFBVixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxPQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxPQUFBRCxJQUFBLE1BQUFVLENBQUEsa0dBQUFDLENBQUEsU0FBQUMsQ0FBQSx1QkFBQUMsZUFBQSw0Q0FBQXBCLElBQUEsaURBQUFxQixRQUFBLENBQUFwQixNQUFBLENBQUFFLEdBQUEsSUFBQUYsTUFBQSxDQUFBRSxHQUFBLFVBQUFrQixRQUFBLENBQUF0QixJQUFBLEdBQUFzQixRQUFBLENBQUF0QixJQUFBLEVBQUFDLElBQUEsR0FBQUEsSUFBQSxFQUFBcUIsUUFBQSxDQUFBdEIsSUFBQSxFQUFBSyxZQUFBLE1BQUFrQixjQUFBLENBQUFELFFBQUEsQ0FBQXRC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