'use strict';function cov_2m7jelc6x6(){var path="/home/jdufitum/nodebb-f24-pentagon/src/controllers/globalmods.js";var hash="a9d43b575ec543ebe18cfec2c667872ec4cb1d83";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/jdufitum/nodebb-f24-pentagon/src/controllers/globalmods.js",statementMap:{"0":{start:{line:3,column:13},end:{line:3,column:31}},"1":{start:{line:4,column:13},end:{line:4,column:31}},"2":{start:{line:5,column:18},end:{line:5,column:41}},"3":{start:{line:6,column:24},end:{line:6,column:48}},"4":{start:{line:7,column:16},end:{line:7,column:36}},"5":{start:{line:9,column:29},end:{line:9,column:43}},"6":{start:{line:11,column:0},end:{line:27,column:2}},"7":{start:{line:12,column:28},end:{line:12,column:66}},"8":{start:{line:13,column:1},end:{line:15,column:2}},"9":{start:{line:14,column:2},end:{line:14,column:16}},"10":{start:{line:17,column:32},end:{line:20,column:3}},"11":{start:{line:21,column:1},end:{line:26,column:4}},"12":{start:{line:30,column:0},end:{line:36,column:2}},"13":{start:{line:31,column:28},end:{line:31,column:66}},"14":{start:{line:32,column:1},end:{line:34,column:2}},"15":{start:{line:33,column:2},end:{line:33,column:16}},"16":{start:{line:35,column:1},end:{line:35,column:51}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:35},end:{line:11,column:36}},loc:{start:{line:11,column:67},end:{line:27,column:1}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:41},end:{line:30,column:42}},loc:{start:{line:30,column:73},end:{line:36,column:1}},line:30}},branchMap:{"0":{loc:{start:{line:13,column:1},end:{line:15,column:2}},type:"if",locations:[{start:{line:13,column:1},end:{line:15,column:2}},{start:{line:13,column:1},end:{line:15,column:2}}],line:13},"1":{loc:{start:{line:32,column:1},end:{line:34,column:2}},type:"if",locations:[{start:{line:32,column:1},end:{line:34,column:2}},{start:{line:32,column:1},end:{line:34,column:2}}],line:32}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9d43b575ec543ebe18cfec2c667872ec4cb1d83"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2m7jelc6x6=function(){return actualCoverage;};}return actualCoverage;}cov_2m7jelc6x6();const user=(cov_2m7jelc6x6().s[0]++,require('../user'));const meta=(cov_2m7jelc6x6().s[1]++,require('../meta'));const analytics=(cov_2m7jelc6x6().s[2]++,require('../analytics'));const usersController=(cov_2m7jelc6x6().s[3]++,require('./admin/users'));const helpers=(cov_2m7jelc6x6().s[4]++,require('./helpers'));const globalModsController=(cov_2m7jelc6x6().s[5]++,module.exports);cov_2m7jelc6x6().s[6]++;globalModsController.ipBlacklist=async function(req,res,next){cov_2m7jelc6x6().f[0]++;const isAdminOrGlobalMod=(cov_2m7jelc6x6().s[7]++,await user.isAdminOrGlobalMod(req.uid));cov_2m7jelc6x6().s[8]++;if(!isAdminOrGlobalMod){cov_2m7jelc6x6().b[0][0]++;cov_2m7jelc6x6().s[9]++;return next();}else{cov_2m7jelc6x6().b[0][1]++;}const[rules,analyticsData]=(cov_2m7jelc6x6().s[10]++,await Promise.all([meta.blacklist.get(),analytics.getBlacklistAnalytics()]));cov_2m7jelc6x6().s[11]++;res.render('ip-blacklist',{title:'[[pages:ip-blacklist]]',rules:rules,analytics:analyticsData,breadcrumbs:helpers.buildBreadcrumbs([{text:'[[pages:ip-blacklist]]'}])});};cov_2m7jelc6x6().s[12]++;globalModsController.registrationQueue=async function(req,res,next){cov_2m7jelc6x6().f[1]++;const isAdminOrGlobalMod=(cov_2m7jelc6x6().s[13]++,await user.isAdminOrGlobalMod(req.uid));cov_2m7jelc6x6().s[14]++;if(!isAdminOrGlobalMod){cov_2m7jelc6x6().b[1][0]++;cov_2m7jelc6x6().s[15]++;return next();}else{cov_2m7jelc6x6().b[1][1]++;}cov_2m7jelc6x6().s[16]++;await usersController.registrationQueue(req,res);};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm03amVsYzZ4NiIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwidHlwZSIsImxvY2F0aW9ucyIsInMiLCJmIiwiYiIsIl9jb3ZlcmFnZVNjaGVtYSIsImNvdmVyYWdlIiwiYWN0dWFsQ292ZXJhZ2UiLCJ1c2VyIiwicmVxdWlyZSIsIm1ldGEiLCJhbmFseXRpY3MiLCJ1c2Vyc0NvbnRyb2xsZXIiLCJoZWxwZXJzIiwiZ2xvYmFsTW9kc0NvbnRyb2xsZXIiLCJtb2R1bGUiLCJleHBvcnRzIiwiaXBCbGFja2xpc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaXNBZG1pbk9yR2xvYmFsTW9kIiwidWlkIiwicnVsZXMiLCJhbmFseXRpY3NEYXRhIiwiUHJvbWlzZSIsImFsbCIsImJsYWNrbGlzdCIsImdldCIsImdldEJsYWNrbGlzdEFuYWx5dGljcyIsInJlbmRlciIsInRpdGxlIiwiYnJlYWRjcnVtYnMiLCJidWlsZEJyZWFkY3J1bWJzIiwidGV4dCIsInJlZ2lzdHJhdGlvblF1ZXVlIl0sInNvdXJjZXMiOlsiZ2xvYmFsbW9kcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHVzZXIgPSByZXF1aXJlKCcuLi91c2VyJyk7XG5jb25zdCBtZXRhID0gcmVxdWlyZSgnLi4vbWV0YScpO1xuY29uc3QgYW5hbHl0aWNzID0gcmVxdWlyZSgnLi4vYW5hbHl0aWNzJyk7XG5jb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2FkbWluL3VzZXJzJyk7XG5jb25zdCBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbmNvbnN0IGdsb2JhbE1vZHNDb250cm9sbGVyID0gbW9kdWxlLmV4cG9ydHM7XG5cbmdsb2JhbE1vZHNDb250cm9sbGVyLmlwQmxhY2tsaXN0ID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG5cdGNvbnN0IGlzQWRtaW5Pckdsb2JhbE1vZCA9IGF3YWl0IHVzZXIuaXNBZG1pbk9yR2xvYmFsTW9kKHJlcS51aWQpO1xuXHRpZiAoIWlzQWRtaW5Pckdsb2JhbE1vZCkge1xuXHRcdHJldHVybiBuZXh0KCk7XG5cdH1cblxuXHRjb25zdCBbcnVsZXMsIGFuYWx5dGljc0RhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuXHRcdG1ldGEuYmxhY2tsaXN0LmdldCgpLFxuXHRcdGFuYWx5dGljcy5nZXRCbGFja2xpc3RBbmFseXRpY3MoKSxcblx0XSk7XG5cdHJlcy5yZW5kZXIoJ2lwLWJsYWNrbGlzdCcsIHtcblx0XHR0aXRsZTogJ1tbcGFnZXM6aXAtYmxhY2tsaXN0XV0nLFxuXHRcdHJ1bGVzOiBydWxlcyxcblx0XHRhbmFseXRpY3M6IGFuYWx5dGljc0RhdGEsXG5cdFx0YnJlYWRjcnVtYnM6IGhlbHBlcnMuYnVpbGRCcmVhZGNydW1icyhbeyB0ZXh0OiAnW1twYWdlczppcC1ibGFja2xpc3RdXScgfV0pLFxuXHR9KTtcbn07XG5cblxuZ2xvYmFsTW9kc0NvbnRyb2xsZXIucmVnaXN0cmF0aW9uUXVldWUgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcblx0Y29uc3QgaXNBZG1pbk9yR2xvYmFsTW9kID0gYXdhaXQgdXNlci5pc0FkbWluT3JHbG9iYWxNb2QocmVxLnVpZCk7XG5cdGlmICghaXNBZG1pbk9yR2xvYmFsTW9kKSB7XG5cdFx0cmV0dXJuIG5leHQoKTtcblx0fVxuXHRhd2FpdCB1c2Vyc0NvbnRyb2xsZXIucmVnaXN0cmF0aW9uUXVldWUocmVxLCByZXMpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDLFNBQUFBLGVBQUEsTUFBQUMsSUFBQSx3RUFBQUMsSUFBQSxnREFBQUMsTUFBQSxLQUFBQyxRQUFBLHNCQUFBQyxHQUFBLG9CQUFBQyxZQUFBLEVBQUFMLElBQUEsb0VBQUFNLFlBQUEsT0FBQUMsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsVUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsVUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsWUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsWUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsWUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsT0FBQUUsS0FBQSxPQUFBQyxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxVQUFBSSxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxNQUFBTyxTQUFBLE9BQUFELEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQU8sSUFBQSxNQUFBQyxTQUFBLEdBQUFWLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFELElBQUEsVUFBQU0sR0FBQSxFQUFBUCxLQUFBLEVBQUFD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