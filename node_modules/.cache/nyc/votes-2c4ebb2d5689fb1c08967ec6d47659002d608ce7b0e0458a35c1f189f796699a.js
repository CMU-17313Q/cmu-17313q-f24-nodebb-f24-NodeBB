'use strict';function cov_a8scpc3lm(){var path="/home/jdufitum/nodebb-f24-pentagon/src/socket.io/posts/votes.js";var hash="1053179f072d18b9ce4dafa9bb82d8b6f06bf734";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/jdufitum/nodebb-f24-pentagon/src/socket.io/posts/votes.js",statementMap:{"0":{start:{line:3,column:12},end:{line:3,column:32}},"1":{start:{line:4,column:16},end:{line:4,column:35}},"2":{start:{line:6,column:0},end:{line:22,column:2}},"3":{start:{line:7,column:1},end:{line:13,column:3}},"4":{start:{line:8,column:2},end:{line:10,column:3}},"5":{start:{line:9,column:3},end:{line:9,column:45}},"6":{start:{line:11,column:2},end:{line:11,column:66}},"7":{start:{line:12,column:2},end:{line:12,column:62}},"8":{start:{line:15,column:1},end:{line:21,column:3}},"9":{start:{line:16,column:2},end:{line:18,column:3}},"10":{start:{line:17,column:3},end:{line:17,column:45}},"11":{start:{line:19,column:2},end:{line:19,column:68}},"12":{start:{line:20,column:2},end:{line:20,column:63}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:40},end:{line:22,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:7,column:25},end:{line:7,column:26}},loc:{start:{line:7,column:55},end:{line:13,column:2}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:27},end:{line:15,column:28}},loc:{start:{line:15,column:57},end:{line:21,column:2}},line:15}},branchMap:{"0":{loc:{start:{line:8,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:8,column:2},end:{line:10,column:3}},{start:{line:8,column:2},end:{line:10,column:3}}],line:8},"1":{loc:{start:{line:8,column:6},end:{line:8,column:24}},type:"binary-expr",locations:[{start:{line:8,column:6},end:{line:8,column:11}},{start:{line:8,column:15},end:{line:8,column:24}}],line:8},"2":{loc:{start:{line:16,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:18,column:3}},{start:{line:16,column:2},end:{line:18,column:3}}],line:16}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1053179f072d18b9ce4dafa9bb82d8b6f06bf734"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_a8scpc3lm=function(){return actualCoverage;};}return actualCoverage;}cov_a8scpc3lm();const api=(cov_a8scpc3lm().s[0]++,require('../../api'));const sockets=(cov_a8scpc3lm().s[1]++,require('../index'));cov_a8scpc3lm().s[2]++;module.exports=function(SocketPosts){cov_a8scpc3lm().f[0]++;cov_a8scpc3lm().s[3]++;SocketPosts.getVoters=async function(socket,data){cov_a8scpc3lm().f[1]++;cov_a8scpc3lm().s[4]++;if((cov_a8scpc3lm().b[1][0]++,!data)||(cov_a8scpc3lm().b[1][1]++,!data.pid)){cov_a8scpc3lm().b[0][0]++;cov_a8scpc3lm().s[5]++;throw new Error('[[error:invalid-data]]');}else{cov_a8scpc3lm().b[0][1]++;}cov_a8scpc3lm().s[6]++;sockets.warnDeprecated(socket,'GET /api/v3/posts/:pid/voters');cov_a8scpc3lm().s[7]++;return await api.posts.getVoters(socket,{pid:data.pid});};cov_a8scpc3lm().s[8]++;SocketPosts.getUpvoters=async function(socket,pids){cov_a8scpc3lm().f[2]++;cov_a8scpc3lm().s[9]++;if(!Array.isArray(pids)){cov_a8scpc3lm().b[2][0]++;cov_a8scpc3lm().s[10]++;throw new Error('[[error:invalid-data]]');}else{cov_a8scpc3lm().b[2][1]++;}cov_a8scpc3lm().s[11]++;sockets.warnDeprecated(socket,'GET /api/v3/posts/:pid/upvoters');cov_a8scpc3lm().s[12]++;return await api.posts.getUpvoters(socket,{pid:pids[0]});};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfYThzY3BjM2xtIiwicGF0aCIsImhhc2giLCJnbG9iYWwiLCJGdW5jdGlvbiIsImdjdiIsImNvdmVyYWdlRGF0YSIsInN0YXRlbWVudE1hcCIsInN0YXJ0IiwibGluZSIsImNvbHVtbiIsImVuZCIsImZuTWFwIiwibmFtZSIsImRlY2wiLCJsb2MiLCJicmFuY2hNYXAiLCJ0eXBlIiwibG9jYXRpb25zIiwicyIsImYiLCJiIiwiX2NvdmVyYWdlU2NoZW1hIiwiY292ZXJhZ2UiLCJhY3R1YWxDb3ZlcmFnZSIsImFwaSIsInJlcXVpcmUiLCJzb2NrZXRzIiwibW9kdWxlIiwiZXhwb3J0cyIsIlNvY2tldFBvc3RzIiwiZ2V0Vm90ZXJzIiwic29ja2V0IiwiZGF0YSIsInBpZCIsIkVycm9yIiwid2FybkRlcHJlY2F0ZWQiLCJwb3N0cyIsImdldFVwdm90ZXJzIiwicGlkcyIsIkFycmF5IiwiaXNBcnJheSJdLCJzb3VyY2VzIjpbInZvdGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgYXBpID0gcmVxdWlyZSgnLi4vLi4vYXBpJyk7XG5jb25zdCBzb2NrZXRzID0gcmVxdWlyZSgnLi4vaW5kZXgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU29ja2V0UG9zdHMpIHtcblx0U29ja2V0UG9zdHMuZ2V0Vm90ZXJzID0gYXN5bmMgZnVuY3Rpb24gKHNvY2tldCwgZGF0YSkge1xuXHRcdGlmICghZGF0YSB8fCAhZGF0YS5waWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignW1tlcnJvcjppbnZhbGlkLWRhdGFdXScpO1xuXHRcdH1cblx0XHRzb2NrZXRzLndhcm5EZXByZWNhdGVkKHNvY2tldCwgJ0dFVCAvYXBpL3YzL3Bvc3RzLzpwaWQvdm90ZXJzJyk7XG5cdFx0cmV0dXJuIGF3YWl0IGFwaS5wb3N0cy5nZXRWb3RlcnMoc29ja2V0LCB7IHBpZDogZGF0YS5waWQgfSk7XG5cdH07XG5cblx0U29ja2V0UG9zdHMuZ2V0VXB2b3RlcnMgPSBhc3luYyBmdW5jdGlvbiAoc29ja2V0LCBwaWRzKSB7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KHBpZHMpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1tbZXJyb3I6aW52YWxpZC1kYXRhXV0nKTtcblx0XHR9XG5cdFx0c29ja2V0cy53YXJuRGVwcmVjYXRlZChzb2NrZXQsICdHRVQgL2FwaS92My9wb3N0cy86cGlkL3Vwdm90ZXJzJyk7XG5cdFx0cmV0dXJuIGF3YWl0IGFwaS5wb3N0cy5nZXRVcHZvdGVycyhzb2NrZXQsIHsgcGlkOiBwaWRzWzBdIH0pO1xuXHR9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDLFNBQUFBLGNBQUEsTUFBQUMsSUFBQSx1RUFBQUMsSUFBQSxnREFBQUMsTUFBQSxLQUFBQyxRQUFBLHNCQUFBQyxHQUFBLG9CQUFBQyxZQUFBLEVBQUFMLElBQUEsbUVBQUFNLFlBQUEsT0FBQUMsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsVUFBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsVUFBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsVUFBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsVUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsWUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsWUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsT0FBQUUsS0FBQSxPQUFBQyxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxTQUFBSSxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxTQUFBSSxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxNQUFBTyxTQUFBLE9BQUFELEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQU8sSUFBQSxNQUFBQyxTQUFBLEdBQUFWLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFELElBQUEsU0FBQU0sR0FBQSxFQUFBUCxLQUFBLEVBQUFDLElBQUEsR0FBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsR0FBQUMsTUFBQSxNQUFBTyxJQUFBLGVBQUFDLFNBQUEsR0FBQVYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsT0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsT0FBQUQsSUFBQSxTQUFBTSxHQUFBLEVBQUFQLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLEtBQUFPLElBQUEsTUFBQUMsU0FBQSxHQUFBVixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxNQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxNQUFBRCxJQUFBLE1BQUFVLENBQUEsb0ZBQUFDLENBQUEscUJBQUFDLENBQUEsaUNBQUFDLGVBQUEsNENBQUFwQixJQUFBLGlEQUFBcUIsUUFBQSxDQUFBcEIsTUFBQSxDQUFBRSxHQUFBLElBQUFGLE1BQUEsQ0FBQUUsR0FBQSxVQUFBa0IsUUFBQSxDQUFBdEIsSUFB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